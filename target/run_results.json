{"metadata": {"dbt_schema_version": "https://schemas.getdbt.com/dbt/run-results/v6.json", "dbt_version": "1.9.1", "generated_at": "2025-01-06T19:32:51.078367Z", "invocation_id": "288645f3-e8d6-4c11-b5ef-104d6209cc0c", "env": {}}, "results": [{"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.875162Z", "completed_at": "2025-01-06T19:32:50.902053Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.902988Z", "completed_at": "2025-01-06T19:32:50.903011Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.030000686645507812, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_marketing_project.stg_ad_spend", "compiled": true, "compiled_code": "\n\nSELECT\n    campaign_id,\n    date::DATE AS date,\n    spend::DECIMAL(10, 2) AS spend,\n    CONCAT(campaign_id, '_', date) AS campaign_id_date\nFROM \"testdb\".\"public\".\"raw_ad_spend\"\n\n-- This could be used to handle incremental loads:\n\n  WHERE date > (SELECT MAX(date) FROM \"testdb\".\"public\".\"stg_ad_spend\")\n", "relation_name": "\"testdb\".\"public\".\"stg_ad_spend\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.907192Z", "completed_at": "2025-01-06T19:32:50.913087Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.914026Z", "completed_at": "2025-01-06T19:32:50.914056Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.008997678756713867, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_marketing_project.stg_campaigns", "compiled": true, "compiled_code": "\n\nSELECT\n    campaign_id,\n    LOWER(campaign_name) AS campaign_name,\n    LOWER(channel) AS channel\nFROM \"testdb\".\"public\".\"raw_campaigns\"", "relation_name": "\"testdb\".\"public\".\"stg_campaigns\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.918786Z", "completed_at": "2025-01-06T19:32:50.926115Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.927014Z", "completed_at": "2025-01-06T19:32:50.927033Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.010269403457641602, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_marketing_project.stg_conversions", "compiled": true, "compiled_code": "\n\nSELECT\n    campaign_id,\n    date::DATE AS date,\n    conversions::INT AS conversions,\n    CONCAT(campaign_id, '_', date) AS campaign_id_date\nFROM \"testdb\".\"public\".\"raw_conversions\"\n\n\n  WHERE date > (SELECT MAX(date) FROM \"testdb\".\"public\".\"stg_conversions\")\n", "relation_name": "\"testdb\".\"public\".\"stg_conversions\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.931259Z", "completed_at": "2025-01-06T19:32:50.937230Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.938110Z", "completed_at": "2025-01-06T19:32:50.938128Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.00882267951965332, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_marketing_project.dim_campaigns", "compiled": true, "compiled_code": "\n\nSELECT\n    sc.campaign_id,\n    sc.campaign_name,\n    sc.channel,\n    CURRENT_TIMESTAMP AS created_at\nFROM \"testdb\".\"public\".\"stg_campaigns\" sc", "relation_name": "\"testdb\".\"public\".\"dim_campaigns\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.942830Z", "completed_at": "2025-01-06T19:32:50.949349Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.950256Z", "completed_at": "2025-01-06T19:32:50.950275Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.00972294807434082, "adapter_response": {}, "message": null, "failures": null, "unique_id": "model.my_marketing_project.fct_campaign_performance", "compiled": true, "compiled_code": "\n\nWITH ad_spend AS (\n    SELECT\n        campaign_id,\n        date,\n        spend\n    FROM \"testdb\".\"public\".\"stg_ad_spend\"\n),\nconv AS (\n    SELECT\n        campaign_id,\n        date,\n        conversions\n    FROM \"testdb\".\"public\".\"stg_conversions\"\n)\n\nSELECT\n    ad_spend.campaign_id,\n    ad_spend.date,\n    ad_spend.spend,\n    conv.conversions,\n    CASE WHEN ad_spend.spend = 0 THEN 0 \n         ELSE (conv.conversions::DECIMAL / ad_spend.spend) \n    END AS conversion_rate,\n    CASE WHEN ad_spend.spend = 0 THEN 0\n         ELSE ((conv.conversions * 100)::DECIMAL / ad_spend.spend)\n    END AS roas\nFROM ad_spend\nJOIN conv\n  ON ad_spend.campaign_id = conv.campaign_id\n AND ad_spend.date = conv.date", "relation_name": "\"testdb\".\"public\".\"fct_campaign_performance\"", "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.954826Z", "completed_at": "2025-01-06T19:32:50.980890Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.981817Z", "completed_at": "2025-01-06T19:32:50.981837Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.029297351837158203, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.not_null_dim_campaigns_campaign_id.b113a46344", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect campaign_id\nfrom \"testdb\".\"public\".\"dim_campaigns\"\nwhere campaign_id is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.986007Z", "completed_at": "2025-01-06T19:32:50.993908Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:50.994817Z", "completed_at": "2025-01-06T19:32:50.994835Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.010773181915283203, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.not_null_dim_campaigns_campaign_name.6f17c78ff7", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect campaign_name\nfrom \"testdb\".\"public\".\"dim_campaigns\"\nwhere campaign_name is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:50.998968Z", "completed_at": "2025-01-06T19:32:51.011408Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:51.012343Z", "completed_at": "2025-01-06T19:32:51.012362Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.015350341796875, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.unique_dim_campaigns_campaign_id.efba50e300", "compiled": true, "compiled_code": "\n    \n    \n\nselect\n    campaign_id as unique_field,\n    count(*) as n_records\n\nfrom \"testdb\".\"public\".\"dim_campaigns\"\nwhere campaign_id is not null\ngroup by campaign_id\nhaving count(*) > 1\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:51.017566Z", "completed_at": "2025-01-06T19:32:51.026006Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:51.026934Z", "completed_at": "2025-01-06T19:32:51.026952Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.011571884155273438, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.not_null_fct_campaign_performance_campaign_id.8e3987b213", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect campaign_id\nfrom \"testdb\".\"public\".\"fct_campaign_performance\"\nwhere campaign_id is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:51.031056Z", "completed_at": "2025-01-06T19:32:51.039386Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:51.040336Z", "completed_at": "2025-01-06T19:32:51.040355Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.011212348937988281, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.not_null_fct_campaign_performance_date.afdd151f1a", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect date\nfrom \"testdb\".\"public\".\"fct_campaign_performance\"\nwhere date is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:51.044522Z", "completed_at": "2025-01-06T19:32:51.052565Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:51.053471Z", "completed_at": "2025-01-06T19:32:51.053489Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.010928630828857422, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.not_null_fct_campaign_performance_spend.510c8871b3", "compiled": true, "compiled_code": "\n    \n    \n\n\n\nselect spend\nfrom \"testdb\".\"public\".\"fct_campaign_performance\"\nwhere spend is null\n\n\n", "relation_name": null, "batch_results": null}, {"status": "success", "timing": [{"name": "compile", "started_at": "2025-01-06T19:32:51.057597Z", "completed_at": "2025-01-06T19:32:51.073467Z"}, {"name": "execute", "started_at": "2025-01-06T19:32:51.074395Z", "completed_at": "2025-01-06T19:32:51.074413Z"}], "thread_id": "Thread-1 (worker)", "execution_time": 0.01877450942993164, "adapter_response": {}, "message": null, "failures": null, "unique_id": "test.my_marketing_project.relationships_fct_campaign_performance_campaign_id__campaign_id__ref_dim_campaigns_.7d1b742682", "compiled": true, "compiled_code": "\n    \n    \n\nwith child as (\n    select campaign_id as from_field\n    from \"testdb\".\"public\".\"fct_campaign_performance\"\n    where campaign_id is not null\n),\n\nparent as (\n    select campaign_id as to_field\n    from \"testdb\".\"public\".\"dim_campaigns\"\n)\n\nselect\n    from_field\n\nfrom child\nleft join parent\n    on child.from_field = parent.to_field\n\nwhere parent.to_field is null\n\n\n", "relation_name": null, "batch_results": null}], "elapsed_time": 0.3819417953491211, "args": {"warn_error_options": {"include": [], "exclude": []}, "log_level_file": "debug", "show_resource_report": false, "print": true, "vars": {}, "macro_debugging": false, "select": [], "project_dir": "/home/franco/Descargas/improvado/my_marketing_project", "require_nested_cumulative_type_params": false, "use_colors": true, "introspect": true, "static": false, "favor_state": false, "version_check": true, "source_freshness_run_project_hooks": false, "quiet": false, "populate_cache": true, "state_modified_compare_vars": false, "partial_parse_file_diff": true, "cache_selected_only": false, "log_path": "/home/franco/Descargas/improvado/my_marketing_project/logs", "require_batched_execution_for_custom_microbatch_strategy": false, "log_format_file": "debug", "log_level": "info", "use_colors_file": true, "exclude": [], "log_format": "default", "send_anonymous_usage_stats": true, "indirect_selection": "eager", "require_resource_names_without_spaces": false, "empty_catalog": false, "static_parser": true, "which": "generate", "skip_nodes_if_on_run_start_fails": false, "compile": true, "require_yaml_configuration_for_mf_time_spines": false, "invocation_command": "dbt docs generate", "strict_mode": false, "printer_width": 80, "partial_parse": true, "require_explicit_package_overrides_for_builtin_materializations": true, "log_file_max_bytes": 10485760, "defer": false, "profiles_dir": "/home/franco/.dbt", "state_modified_compare_more_unrendered_values": false, "write_json": true}}